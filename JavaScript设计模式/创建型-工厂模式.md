## å·¥å‚æ¨¡å¼

### ç®€å•å·¥å‚

å°ä½•å¯è½»æ¾äº†ï¼Œåœ¨ä½¿ç”¨æ„é€ æ¨¡å¼é€ ç¦äº†æ•´ä¸ªå­¦é™¢çš„å•èº«ç‹—ä¹‹åï¼Œçªç„¶æœ‰ä¸€å¤©ï¼Œå°è°­æ¥æ‰¾å°ä½•

å°è°­ : â€œä½•æ€»å•Šï¼Œä½ ç»™æˆ‘ new çš„è¿™ä¸ªå¥³æœ‹å‹ï¼Œæˆ‘å°±åªçŸ¥é“å¥¹çš„ä¸€ä¸¢ä¸¢ä¿¡æ¯ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“å¥¹å“ªçš„äººï¼Œä½ èƒ½ä¸èƒ½ç»™æˆ‘ new ä¸€ä¸ªé‡åº†çš„å°å§å§å•Šï¼Œæˆ‘å–œæ¬¢åƒè¾£çš„å¦¹å­ ~â€

å°è°¢åœ¨æ—è¾¹å¬åˆ°äº†ï¼Œå¿™ç€è¯´æˆ‘ä¹Ÿè¦ï¼Œæˆ‘æƒ³æ‰¾ä¸€ä¸ªå¹¿å·çš„å°å§å§ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢åƒå£å‘³æ¸…æ·¡çš„å¦¹å­ï¼

å°ä½•ä¸€æƒ³ï¼Œæˆ‘æ—¥ï¼Œä½ ä»¬ä¸¤è¦æ±‚è¿˜æŒºå¤šã€‚

<img src='https://user-gold-cdn.xitu.io/2019/11/15/16e6d038a05c4284?w=225&h=225&f=jpeg&s=7635' width=200 />

å®Œäº†ï¼Œå‰è¾¹çš„å¥³æœ‹å‹å…±æ€§éƒ½è¢«æ‹†ç¦»äº†ï¼Œæœ¬æ¥è§„å®šå°±åªæœ‰ ` name``age `ã€`cup`ã€`hobby` çš„ï¼Œç°åœ¨å±…ç„¶è¿˜è¦å‡ºç”Ÿåœ°ï¼Œå“ˆå–æ‰¹ï¼

å°è°­ : â€œæˆ‘å¯ä»¥ç»™ä½ å‘ä¸ªçº¢åŒ…~â€

å°è°¢ : â€œæˆ‘ç°åœ¨å°±ç»™ä½ å‘â€

å°ä½•ä¸€å¬ï¼Œå¹²äº†ï¼Œæœ‰é’±èƒ½ä½¿é¬¼æ¨ç£¨ï¼Œä¸å°±æ˜¯å¤šä¸€ä¸ªå­—æ®µå˜›

```js
function ChongQingGirlFriend(name, age, cup, hobby) {
  this.name = name
  this.age = age
  this.cup = cup
  this.hobby = hobby
  this.birthplace = 'é‡åº†'
}

function GuangZhouGirlFriend(name, age, cup, hobby) {
  this.name = name
  this.age = age
  this.cup = cup
  this.hobby = hobby
  this.birthplace = 'å¹¿å·'
}
```

å“¦å¼ï¼Œå°ä½•æ²¡æƒ³åˆ°ï¼Œè¿™ç‰¹ä¹ˆçš„ï¼Œå¤§å®¶ä¸€å¬åˆ°å¯ä»¥è‡ªå®šä¹‰å‡ºç”Ÿåœ°çš„å¥³æœ‹å‹ï¼Œç›´æ¥ç–¯ç‹‚æ‰¾ä»–ï¼Œçº¢åŒ…æ‹†åˆ°æ‰‹è½¯

<img src='https://user-gold-cdn.xitu.io/2019/11/15/16e6d04dd258287f?w=221&h=228&f=jpeg&s=4977' width=200 />

å½“å°ä½•ä»`é‡åº†`å†™åˆ°`å¹¿å·`ï¼Œå†ä»`å¹¿å·`å†™åˆ°`åŒ—äº¬`ã€`ä¸Šæµ·`ã€`æˆéƒ½`... ä»–çªç„¶æ„æ€åˆ°ï¼Œè¿™é‡æœ‰ç‚¹å¤§å•Š

æˆ‘å¾—å†™åˆ°å•¥æ—¶å€™ï¼Œç®—äº†ï¼Œæˆ‘ç”¨å·¥å‚æ¨¡å¼å§ ~

```js
function FactoryGirlFriend(name, age, cup, hobby, birthplace) {
  if (birthplace === "chongqing") {
    return new ChongQingGirlFriend(name, age, cup, hobby);
  }
  if (birthplace === "chengdu") {
    return new GuangZhouGirlFriend(name, age, cup, hobby);
  }
  if (birthplace === "beijing") {
    return new BeiJingGirlFriend(name, age, cup, hobby);
  }
  if (birthplace === "shanghai") {
    return new ShangHaiGirlFriend(name, age, cup, hobby);
  }
  ...
}
```

çœŸå¥½ï¼Œä½†æ˜¯æˆ‘å›½å…±åˆ’åˆ†ä¸º 23 ä¸ªçœã€5 ä¸ªè‡ªæ²»åŒºã€4 ä¸ªç›´è¾–å¸‚ã€2 ä¸ªç‰¹åˆ«è¡Œæ”¿åŒºï¼Œè¦åˆ’åˆ†å†ç»†ä¸€äº›ï¼Œæƒ³æƒ³è¿™ä¸ª if è¯­å¥æœ‰äº›åºå¤§ï¼Ÿ

å°ä½•å¿ƒæƒ³ï¼Œæˆ‘æ€»ä¸èƒ½ï¼Œå†™ n ä¸ªåŸå¸‚å¥³æœ‹å‹å§ï¼Œè¿™ç‰¹ä¹ˆå¾—å†™åˆ°å•¥æ—¶å€™ï¼Œäºæ˜¯å°ä½•å†æ¬¡å°è£…ï¼Œæ­¤æ—¶åªéœ€è¦ä¸¤ä¸ªæ„é€ å™¨å°±èƒ½å®Œæˆ

```js
function GirlFriend(name, age, cup, hobby, birthplace, eatType) {
  this.name = name;
  this.age = age;
  this.cup = cup;
  this.hobby = hobby;
  this.birthplace = birthplace;
  this.eatType = eatType
}

function FactoryGirlFriend(name, age, cup, hobby, birthplace) {
    let eatType = '';
    switch(birthplace) {
        case 'chongqing':
            eatType = 'åƒè¾£ï¼Œè¾£çš„ä¸€åŒ¹';
            break;
        case 'guangzhou':
            eatType = 'åƒæ¸…æ·¡ï¼Œå–ç²¥å–èŒ¶';
            break;
        case 'fuzhou':
            eatType = 'æ²™å¿ï¼Œé—½å—èœ';
            break;
        ....
    }
    return new GirlFriend(name, age, cup, hobby, birthplace, eatType);
}
```

çœŸé¦™å•Šï¼Œå·¥å‚æ¨¡å¼å¤§æ³•å°±æ˜¯å¥½ ~

ğŸ‘‰ é‚£ä¹ˆæˆ‘ä»¬è¯¥ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å·¥å‚æ¨¡å¼?

- å¯¹è±¡æˆ–è€…ç»„ä»¶è®¾ç½®æ¶‰åŠåˆ°é«˜ç¨‹åº¦çº§åˆ«çš„å¤æ‚åº¦æ—¶ã€‚
- æ ¹æ®æˆ‘ä»¬æ‰€åœ¨çš„ç¯å¢ƒæ–¹ä¾¿çš„ç”Ÿæˆä¸åŒå¯¹è±¡çš„å®ä½“æ—¶ã€‚
- åœ¨è®¸å¤šå…±äº«åŒä¸€ä¸ªå±æ€§çš„è®¸å¤šå°å‹å¯¹è±¡æˆ–ç»„ä»¶ä¸Šå·¥ä½œæ—¶ã€‚
- å½“å¸¦æœ‰å…¶å®ƒä»…ä»…éœ€è¦æ»¡è¶³ä¸€ç§ API çº¦å®š(åˆåé¸­å¼ç±»å‹)çš„å¯¹è±¡çš„ç»„åˆå¯¹è±¡å·¥ä½œæ—¶.è¿™å¯¹äºè§£è€¦æ¥è¯´æ˜¯æœ‰ç”¨çš„ã€‚

å¯èƒ½è¿™é‡Œæœ‰äººä¼šè§‰å¾—ï¼Œæˆ‘ç›´æ¥è¿™ä¹ˆå†™ä¸ä¹Ÿå¯ä»¥ï¼Ÿ

```js
function FactoryGirlFriend(name, age, cup, hobby, birthplace) {
    this.name = name;
    this.age = age;
    this.cup = cup;
    this.hobby = hobby;
    this.birthplace = birthplace;

    let eatType = '';
    switch(birthplace) {
        case 'chongqing':
            this.eatType = 'åƒè¾£ï¼Œè¾£çš„ä¸€åŒ¹';
            break;
        case 'guangzhou':
            this.eatType = 'åƒæ¸…æ·¡ï¼Œå–èŒ¶å–ç²¥';
            break;
        case 'fuzhou':
            this.eatType = 'æ²™å¿ï¼Œé—½å—èœ';
            break;
        ....
    }
}
```

ojbk å•Šï¼Œä½ è¿™ä¹ˆå†™åˆæ²¡é”™ï¼Œæœ€ç»ˆæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ€æƒ³æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¯´è®¾è®¡æ¨¡å¼æ˜¯ä¸€ç§æ€æƒ³ ~
å‰é¢è¯´äº†ï¼Œè®¾è®¡æ¨¡å¼éµå¾ªâ€œå¼€æ”¾å°é—­åŸåˆ™â€ï¼Œè¿™é‡Œçš„å·¥å‚æ¨¡å¼ï¼Œ`GirlFriend`æ˜¯ç”¨æ¥ç”Ÿæˆå¥³æœ‹å‹ï¼Œå®ƒçš„ç›®çš„å°±å¾ˆçº¯ç²¹ï¼Œä½ ç»™æˆ‘å•¥ï¼Œæˆ‘å°±ç»™ä½  new å•¥å¯¹è±¡ï¼Œè€Œ`FactoryGirlFriend`ä¸»è¦æ˜¯æ ¹æ®å‡ºç”Ÿåœ°ï¼Œç„¶åç»™äºˆè¿™ä¸ªå¥³æœ‹å‹ä¸€äº›é¥®é£Ÿç‰¹æ€§ã€‚

è¿™é‡Œçš„`GirlFriend`éµå¾ªäº†â€œå°é—­â€åŸåˆ™ï¼Œè€Œ`FactoryGirlFriend`éµå¾ªâ€œå¼€æ”¾â€åŸåˆ™ï¼Œå¦‚æœåªæ˜¯ä½¿ç”¨`GirlFriend`ï¼Œéœ€æ±‚ä¸€æ—¦æ”¹å˜ï¼Œ`GirlFriend`å°±ä¼šæ”¹å˜ã€‚åªæ»¡è¶³â€œå¼€æ”¾â€ï¼Œä¸æ»¡è¶³â€œå°é—­â€åŸåˆ™ã€‚

#### æŠ½è±¡å·¥å‚

åœ¨ ã€ŠJavaScript è®¾è®¡æ¨¡å¼ã€‹ä¹¦ä¸­ï¼Œå¯¹æŠ½è±¡å·¥å‚æ˜¯è¿™ä¹ˆè§£é‡Šçš„ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ä»¥ä¸€ä¸ªé€šç”¨çš„ç›®æ ‡å°†ä¸€ç»„ç‹¬ç«‹çš„å·¥å‚è¿›è¡Œå°è£….å®ƒå°†ä¸€å †å¯¹è±¡çš„å®ç°ç»†èŠ‚ä»å®ƒä»¬çš„ä¸€èˆ¬ç”¨ä¾‹ä¸­åˆ†ç¦»ã€‚

ç°åœ¨å°ä½•å¼€ä¸€ä¸ªæ·˜å®åº—é“ºï¼Œä¸“é—¨å¸®äºº new å¥³æœ‹å‹ï¼Œå¤§é‡ç”Ÿäº§ï¼Œäºæ˜¯ï¼Œå°ä½•å¿ƒæƒ³ï¼Œè¦ new ä¸€ä¸ªå¥³æœ‹å‹ï¼Œæœ‰éœ€è¦å—æ–¹å§‘å¨˜ï¼Œæœ‰éœ€è¦åŒ—æ–¹å§‘å¨˜ï¼Œè¿™å°±ç®—äº†ï¼Œå°æˆ´å±…ç„¶åŠ é’±ï¼Œè¦æˆ‘å¸®ä»– new ä¸€ä¸ªä¸œåŒ—å°å§å§ï¼Œè¦é‚£ç§è´¼èƒ½å–é…’çš„ï¼›å°åˆ˜è¦æˆ‘æ‰¾ä¸ªè¥¿åŒ—æ–°ç–†çš„æ¼‚äº®ç¾çœ‰ï¼Œè¦è¶…çº§ç¾çš„é‚£ç§ ~

<img src='https://user-gold-cdn.xitu.io/2019/11/15/16e6d06d7fd1bff8?w=225&h=225&f=png&s=9737' width=200 />

è¿™å¯å’‹æ•´ï¼Œå“ªå¤©åˆæ¥ä¸€ä¸ªè¦ä¸œåŒ—å°å§å§ï¼Œè¥¿åŒ—å¤§ç¾äººï¼Œæˆ‘å°±æ²¡äº†...äºæ˜¯å‘¢ï¼Œä»–æƒ³åˆ°äº†æ›¾ç»åœ¨æŸæœ¬ä¹¦ä¸Šçœ‹åˆ°çš„æŠ½è±¡å·¥å‚

> æŠ½è±¡å·¥å‚æ¨¡å¼åˆ›å»ºçš„æ˜¯ç±»ç°‡ï¼Œè€Œéæ˜¯å…·ä½“æŸä¸€ä¸ªç±»çš„å®ä¾‹ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼é€‚ç”¨äºç³»ç»Ÿé‡Œæœ‰å¤šäºä¸€ä¸ªçš„äº§å“æ—ï¼Œè€Œåªéœ€è¦ç”¨åˆ°æŸä¸€æ—çš„ç±»çš„åœºæ™¯

```js
// æŠ½è±¡å·¥å‚æ–¹æ³•
function AbstractFactoryGirlFriend(child, parent) {
  if (typeof AbstractFactoryGirlFriend[parent] === 'function') {
    function F() {}
    F.prototype = new AbstractFactoryGirlFriend[parent]()
    child.constructor = parent
    parent.prototype = new F()
  } else {
    throw new Error('ä¸èƒ½åˆ›å»ºè¯¥æŠ½è±¡ç±»')
  }
}
```

```js
// å®šä¹‰æŠ½è±¡ç±»çš„ç»“æ„

// åŒ—æ–¹å§‘å¨˜æŠ½è±¡ç±»
AbstractFactoryGirlFriend.NorthGirl = function() {
  this.position = 'north'
  this.author = 'å°ä½•'
}
AbstractFactoryGirlFriend.NorthGirl.prototype = {
  northFeature() {
    return new Error('æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨')
  },
  myFeature() {
    return new Error('æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨')
  }
}

// å—æ–¹å§‘å¨˜æŠ½è±¡ç±»
AbstractFactoryGirlFriend.SouthGirl = function() {
  this.position = 'south'
}
AbstractFactoryGirlFriend.SouthGirl.prototype = {
  southFeature() {
    return new Error('æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨')
  },
  myFeature() {
    return new Error('æŠ½è±¡æ–¹æ³•ä¸èƒ½è°ƒç”¨')
  }
}
```

```js
// å®šä¹‰å…·ä½“çš„ç±»å¦‚ä¸‹
// åŒ—æ–¹å§‘å¨˜: ä¸œåŒ—çš„å°å§å§
function NorthEastGirl(name, cup, customize) {
  this.category = 'ä¸œåŒ—'
  this.name = name
  this.cup = cup
  this.customize = customize
}
AbstractFactoryGirlFriend(NorthEastGirl, 'NorthGirl')
NorthEastGirl.prototype.northFeature = function() {
  return `æˆ‘çš„åå­—æ˜¯${this.name}, æˆ‘æ˜¯ä¸ª${this.category}å§‘å¨˜ï¼Œæˆ‘çš„cupæ˜¯${this.cup}`
}
NorthEastGirl.prototype.myFeature = function() {
  return JSON.stringify(this.customize)
}

// åŒ—æ–¹å§‘å¨˜: è¥¿åŒ—çš„å°å§å§
function NorthWestGirl(name, cup, customize) {
  this.category = 'è¥¿åŒ—'
  this.name = name
  this.cup = cup
  this.customize = customize
}
AbstractFactoryGirlFriend(NorthWestGirl, 'SouthGirl')
NorthWestGirl.prototype.northFeature = function() {
  return `æˆ‘çš„åå­—æ˜¯${this.name}, æˆ‘æ˜¯ä¸ª${this.category}å§‘å¨˜ï¼Œæˆ‘çš„cupæ˜¯${this.cup}`
}
NorthWestGirl.prototype.myFeature = function() {
  return JSON.stringify(this.customize)
}
```

åˆ°äº†ç¬¬äºŒå¤©ï¼Œå°è°­æ¥æ‰¾å°ä½•...

å°è°­ : â€œä½•å°‘ï¼Œæ‹œæ‰˜ä½ çš„äº‹å’‹æ ·äº†ï¼Ÿâ€

å°ä½•é—® : â€œå†è¯´ä¸€éä½ çš„è¦æ±‚â€

å°è°­ : â€œ20 å‡ºå¤´ï¼Œæ¼‚äº®ï¼Œ36D cupï¼Œè¦ä¸œåŒ—çš„ï¼Œé‚£ç§å•¤é…’éšä¾¿çŒï¼Œç™½é…’äº”æ–¤åŠçš„å°å§å§â€

å°ä½• : â€œojbk~â€

```js
const TanNorthEastGirl = new NorthEastGirl('å°è°­å¥³æœ‹å‹', '36D', { beer: 'éšä¾¿çŒ', liquor: 'äº”æ–¤åŠ' })
TanNorthEastGirl.northFeature()
TanNorthEastGirl.myFeature()
```

å°åˆ˜ä¸€çœ‹ï¼Œé©¬é©¬å‘çº¢åŒ…ï¼Œåˆ«è¯´äº†ï¼Œå°ä½•: â€œä½ åˆ«è¯´äº†ï¼Œæ–°ç–†ï¼Œè·ªç¥¨ï¼Œä½ è‡ªå·±å»æ‰¾å§â€

```js
const LiuNorthWestGirl = new NorthWestGirl('å°åˆ˜å¥³æœ‹å‹', '36C', { sexy: true, beautiful: true})
LiuNorthWestGirl.northFeature()
LiuNorthWestGirl.myFeature()
```
